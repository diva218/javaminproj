<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="controller.SupplierController"
      spacing="15"
      alignment="TOP_CENTER"
      stylesheets="/styles.css"
      styleClass="root-bg">

    <padding>
        <Insets top="25" right="25" bottom="25" left="25"/>
    </padding>

    <children>

        <!-- ================= HEADER ================= -->
        <HBox spacing="10" styleClass="header-card header-shadow">
            <children>
                <Label text="Supplier Dashboard" styleClass="page-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Logout"
                        onAction="#handleLogout"
                        styleClass="logout-btn bouncy-btn"/>
            </children>
        </HBox>

        <!-- ================= ADD STOCK CARD ================= -->
        <VBox spacing="12" styleClass="content-card card-shadow">
            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
            <children>

                <Label text="Donate / Add Stock" styleClass="section-title"/>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <children>
                        <TextField fx:id="nameField" promptText="Item name" prefWidth="150"/>
                        <TextField fx:id="categoryField" promptText="Category" prefWidth="120"/>
                        <TextField fx:id="qtyField" promptText="Qty" prefWidth="80"/>
                        <TextField fx:id="expiryField" promptText="YYYY-MM-DD" prefWidth="120"/>

                        <Button text="Add"
                                onAction="#handleAddStock"
                                styleClass="primary-btn bouncy-btn"/>

                        <Label fx:id="statusLabel" styleClass="status-label"/>
                    </children>
                </HBox>

            </children>
        </VBox>

        <!-- ================= MAIN SPLIT ================= -->
        <SplitPane dividerPositions="0.5" styleClass="split-pane-clean">

            <items>

                <!-- ===== INVENTORY TABLE ===== -->
                <VBox spacing="10" styleClass="content-card card-shadow">
                    <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>

                    <children>
                        <Label text="Current Inventory" styleClass="section-title"/>

                        <TableView fx:id="inventoryTable" styleClass="table-card">
                            <columns>
                                <TableColumn fx:id="invColId" text="ID" prefWidth="60"/>
                                <TableColumn fx:id="invColName" text="Name" prefWidth="160"/>
                                <TableColumn fx:id="invColCategory" text="Category" prefWidth="120"/>
                                <TableColumn fx:id="invColQty" text="Qty" prefWidth="70"/>
                                <TableColumn fx:id="invColExpiry" text="Expiry" prefWidth="120"/>
                            </columns>
                        </TableView>

                        <HBox spacing="10">
                            <children>
                                <Button text="Delete Selected"
                                        onAction="#handleDeleteSelected"
                                        styleClass="danger-btn bouncy-btn"/>
                            </children>
                        </HBox>
                    </children>
                </VBox>

                <!-- ===== NGO ORDER HISTORY ===== -->
                <VBox spacing="10" styleClass="content-card card-shadow">
                    <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>

                    <children>
                        <Label text="Donation / NGO Order History" styleClass="section-title"/>

                        <TableView fx:id="ordersTable" styleClass="table-card">
                            <columns>
                                <TableColumn fx:id="ordColId" text="Order #" prefWidth="80"/>
                                <TableColumn fx:id="ordColNgo" text="NGO" prefWidth="120"/>
                                <TableColumn fx:id="ordColItem" text="Item" prefWidth="160"/>
                                <TableColumn fx:id="ordColQty" text="Qty" prefWidth="70"/>
                                <TableColumn fx:id="ordColDate" text="Date" prefWidth="140"/>
                            </columns>
                        </TableView>

                        <HBox spacing="10">
                            <children>
                                <Button text="Mark Completed"
                                        onAction="#handleMarkOrderCompleted"
                                        styleClass="primary-btn bouncy-btn"/>
                            </children>
                        </HBox>

                    </children>
                </VBox>

            </items>

        </SplitPane>

    </children>
</VBox>
